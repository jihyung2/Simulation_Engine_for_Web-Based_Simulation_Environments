# Simulation_Engine_for_Web-Based_Simulation_Environments


### 에러

시뮬레이션에서 웹훅으로 데이터를 전송하는 문제가 있었음

비동기로 안하면 시뮬레이션이 무한으로 동작하기때문에 블로킹되어 실행이 되지않음

비동기로 하면 output이나 int_trans에 async를 붙여야하는데 이걸 붙이면 pyevsim에 전체 코드를 고쳐야하는 문제가 발생했음

시뮬레이션 결과만 출력하는거라면 문제가 없지만 중간에 데이터를 게속 받아오는 역할로 사용했기 때문에 저기 사이에 넣어야됨

## Thread를 사용해서 문제를 해결했다. 

### 에러2 

하지만 문제가 웹훅을 동기로 전송하면 블로킹으로 막혀서 시뮬레이션이 멈춰야 한번에 들어가졌다.

이러한 문제를 해결하려고 오랜시간 삽질을 했지만 고칠 수 없었고 웹훅을 비동기로 바꾸면 pyevsim에 전체 코드를 고쳐야하는 문제가 있고

새로운 루프를 만드려고 했으나 이미 루프(시뮬레이션 동작)가 존재하여 그것 어려워보였다.

그래서 비동기로 써야만 블로킹이 되지 않기때문에 고민을 해보았다

1. 웹훅을 동기로 사용 -> 시뮬레이션이 정상 동작하나, 블로킹으로 시뮬레이션이 종료되어야 한번에 전송

2. 웹훅을 비동기로 사용 -> 시뮬레이션을 실행할때 1번 출력 외에 게속 동작하는 코드 안에 넣으면 pyevsim 전체를 수정해야하는 에러가 발생

### 웹훅을 무조건 비동기로 해야하고 시뮬레이션을 실행했을때나 시간제한을 줘서 종료했을때만 실행할 수 있기 때문에 시뮬레이션을 1초씩 무한번 실행하게 함


### 에러3

웹훅 방식으로 바로 웹페이지로 전달하는것에서 막혔음

그래서 1차 모델로 html에서 get result로 수신된 웹훅 데이터를 받는 내용으로 일단 수정함


### 기본 구현 최종 -완-
1. 드롭박스형태의 독립적인 시뮬레이션 모델 만들기 ex) A,B,C,D중 체크, port, name 수집 (add 여러개 가능) 후 run ( 입력된 여러 정보들로 각각의 시뮬레이션 작동 (멀티 프로세싱))
2. 웹훅( 시뮬레이션 이벤트가 발생했을때 웹훅으로 데이터 전송 )
